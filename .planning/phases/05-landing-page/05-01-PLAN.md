---
phase: 05-landing-page
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/middleware.ts
  - src/app/page.tsx
  - src/components/landing/navbar.tsx
  - src/components/landing/hero.tsx
  - src/components/landing/animated-section.tsx
autonomous: true

must_haves:
  truths:
    - "Landing page is accessible without authentication"
    - "Landing page displays hero with value proposition"
    - "Navigation links scroll to sections"
    - "Hero CTA buttons link to signup"
  artifacts:
    - path: "src/components/landing/navbar.tsx"
      provides: "Fixed navigation bar with smooth scroll links"
      min_lines: 40
    - path: "src/components/landing/hero.tsx"
      provides: "Hero section with animated headline and CTAs"
      min_lines: 50
    - path: "src/components/landing/animated-section.tsx"
      provides: "Reusable animation wrapper component"
      min_lines: 20
    - path: "src/app/page.tsx"
      provides: "Landing page composition with metadata"
      exports: ["metadata"]
  key_links:
    - from: "src/middleware.ts"
      to: "/"
      via: "PUBLIC_ROUTES array"
      pattern: 'PUBLIC_ROUTES.*"/"'
    - from: "src/components/landing/hero.tsx"
      to: "/signup"
      via: "Link component"
      pattern: 'href="/signup"'
---

<objective>
Set up landing page infrastructure and create hero section with navigation

Purpose: Establish the public landing page route with SEO metadata, install animation library, and build the hero section that communicates value within 3-5 seconds

Output: Working landing page at `/` with animated hero, navigation bar, and proper metadata
</objective>

<execution_context>
@/Users/frutz/.claude/get-shit-done/workflows/execute-plan.md
@/Users/frutz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-landing-page/05-RESEARCH.md
@src/middleware.ts
@src/app/page.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install motion and update middleware for public landing</name>
  <files>package.json, src/middleware.ts</files>
  <action>
1. Install motion package:
   ```bash
   npm install motion
   ```

2. Update `src/middleware.ts`:
   - Add "/" to PUBLIC_ROUTES array
   - Remove the "/" redirect block that currently redirects to /login or /dashboard
   - For "/" route: let the page render for all users (authenticated or not)

   The middleware should allow "/" to pass through like other public routes, without special redirect handling.
  </action>
  <verify>
   - `npm ls motion` shows package installed
   - Visiting `/` in browser while logged out shows the page (not redirect to /login)
   - Visiting `/` while logged in shows the same page (not forced to /dashboard)
  </verify>
  <done>motion installed, middleware allows public access to /</done>
</task>

<task type="auto">
  <name>Task 2: Create animated section wrapper and landing components</name>
  <files>src/components/landing/animated-section.tsx, src/components/landing/navbar.tsx, src/components/landing/hero.tsx</files>
  <action>
1. Create `src/components/landing/animated-section.tsx`:
   - Client component ("use client")
   - Import { motion } from "motion/react"
   - Props: children, delay (optional, default 0)
   - Use whileInView animation: fade up (opacity 0->1, y 20->0)
   - viewport: { once: true, margin: "-100px" }
   - transition: duration 0.5, delay from props

2. Create `src/components/landing/navbar.tsx`:
   - Client component ("use client") for potential mobile menu state
   - Fixed position, glass effect, border-bottom
   - Logo/brand on left: "Thumbnail Factory" linking to "/"
   - Nav links in center (hidden on mobile): Features (#features), Pricing (#pricing), Testimonials (#testimonials)
   - Right side: "Log In" button (ghost variant) linking to /login, "Get Started" button linking to /signup
   - Use existing Button component from @/components/ui/button
   - Nav links use anchor tags with href="#section-id" for smooth scroll

3. Create `src/components/landing/hero.tsx`:
   - Client component for motion animations
   - Import { motion } from "motion/react"
   - Full viewport height section (min-h-[80vh]) with centered content
   - Add pt-20 to account for fixed navbar
   - Animated headline: "Scroll-Stopping Thumbnails" (main), "In Seconds, Not Hours" (muted)
   - Animated subheadline describing the value: "Upload your portrait, add backgrounds, enter keywords. Our AI creates professional thumbnails while you focus on content."
   - Two CTAs: "Start Free" (primary, large, with ArrowRight icon) -> /signup, "View Pricing" (outline) -> #pricing
   - Stagger animations: h1 first, p second (delay 0.1), buttons third (delay 0.2)
   - All motion elements: initial={{ opacity: 0, y: 20 }}, animate={{ opacity: 1, y: 0 }}
  </action>
  <verify>
   - Files exist in src/components/landing/
   - No TypeScript errors: `npx tsc --noEmit`
   - Components import correctly from existing shadcn/ui
  </verify>
  <done>Animation wrapper and hero/navbar components created with proper motion animations</done>
</task>

<task type="auto">
  <name>Task 3: Compose landing page with SEO metadata</name>
  <files>src/app/page.tsx, src/app/globals.css</files>
  <action>
1. Update `src/app/globals.css`:
   - Add smooth scroll behavior to html:
     ```css
     html {
       scroll-behavior: smooth;
     }
     ```

2. Replace `src/app/page.tsx`:
   - Add SEO metadata export (Metadata type from next):
     - title: "YouTube Thumbnail Factory - AI-Powered Thumbnails in Seconds"
     - description: "Generate professional YouTube thumbnails without design skills. Upload your portrait, add backgrounds, and let AI create scroll-stopping thumbnails."
     - openGraph with same title/description, type: "website"
     - twitter card: "summary_large_image"

   - Import and compose components:
     - Navbar (fixed, outside main)
     - Hero section
     - Placeholder sections for features (#features), pricing (#pricing), testimonials (#testimonials) - just empty divs with id for now

   - Structure:
     ```tsx
     <main className="min-h-screen bg-background">
       <Navbar />
       <Hero />
       <div id="features" className="py-24" />
       <div id="pricing" className="py-24" />
       <div id="testimonials" className="py-24" />
     </main>
     ```
  </action>
  <verify>
   - `npm run build` succeeds
   - Visit `/` - hero displays with animations
   - Click "View Pricing" - page scrolls smoothly to #pricing section
   - Inspect page source - meta tags present
  </verify>
  <done>Landing page renders with hero, navbar, metadata, and smooth scrolling to anchor sections</done>
</task>

</tasks>

<verification>
- [ ] `npm run build` passes without errors
- [ ] Landing page accessible at `/` without authentication
- [ ] Hero section animates on page load
- [ ] Navigation links scroll smoothly to sections
- [ ] "Get Started" / "Start Free" buttons link to /signup
- [ ] "Log In" button links to /login
- [ ] Page has proper SEO metadata (check with View Source)
</verification>

<success_criteria>
1. Unauthenticated users can view landing page at /
2. Hero communicates value proposition with animated entrance
3. Navigation provides access to sections and auth pages
4. SEO metadata is properly configured
</success_criteria>

<output>
After completion, create `.planning/phases/05-landing-page/05-01-SUMMARY.md`
</output>
